import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BVOCwoKb.js";import{b as L}from"./movieUtils.BzFiPXDS.js";function z({movies:t=[],title:s="Phim Mới",gradient:l=""}){const i=c.useRef(null),[r,n]=c.useState(!1),[a,o]=c.useState(!0),d=l?{backgroundImage:l,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}:{},m=()=>{const e=i.current;if(!e)return;const t=e.scrollWidth>e.clientWidth,s=Math.ceil(e.scrollWidth-e.clientWidth);t?(n(e.scrollLeft>5),o(e.scrollLeft<s-5)):(n(!1),o(!1))};c.useEffect((()=>{const e=i.current;if(!e)return;m(),e.addEventListener("scroll",m),window.addEventListener("resize",m);const t=new MutationObserver(m);return t.observe(e,{childList:!0,subtree:!0,attributes:!0}),()=>{e.removeEventListener("scroll",m),window.removeEventListener("resize",m),t.disconnect()}}),[t]);const h=e=>{const t=i.current;if(!t)return;const s=t.querySelector(".movie-card-item");if(!s)return;const l=3*(s.offsetWidth+12);t.scrollBy({left:"left"===e?-l:l,behavior:"smooth"})};return 0===t.length?null:e.jsxs("section",{className:"flex flex-col py-1 lg:py-4 lg:flex-row sm:gap-6",children:[e.jsx("div",{className:"flex-shrink-0 pb-4 sm:w-48 sm:pb-0",children:e.jsxs("div",{className:"flex justify-between sm:block",children:[e.jsxs("h2",{id:`${s.replace(/\s+/g,"-")}-heading`,className:"text-lg font-bold font-segoe text-white lg:text-2xl leading-tight",style:d,children:[e.jsxs("span",{className:"hidden lg:block",children:[s.split(" ").slice(0,2).join(" "),e.jsx("br",{}),s.split(" ").slice(2).join(" ")]}),e.jsx("span",{className:"block lg:hidden",children:s})]}),e.jsx("a",{href:"/danh-sach/phim-moi",className:"text-xs text-gray-200 transition-colors hover:text-[#FFDE8A] mt-1 sm:mt-2 block sm:inline-block font-semibold",children:"Xem toàn bộ"})]})}),e.jsxs("div",{className:"relative flex-1 min-w-0",children:[e.jsx("div",{ref:i,className:"no-scrollbar flex snap-x snap-mandatory overflow-x-auto scroll-smooth",style:{gap:"12px"},children:t.map(((t,s)=>{const{id:l,slug:i,name:r,thumb_url:n,year:a,episode_current:o,origin_name:c}=t,d=`https://ik.imagekit.io/17mpki7mv/motchill/${n}?tr=f-webp,w-800,h-450,fo-auto,q-85`,m=l||i||`movie-${s}`,h=L(o);return e.jsxs("a",{href:`/phim/${i}`,title:r,className:"group movie-card-item movie-card-row1","aria-label":`Xem phim ${r}`,children:[e.jsxs("div",{className:"relative aspect-[16/9] w-full overflow-hidden rounded-md",children:[e.jsx("img",{src:d,alt:`Poster phim ${r}`,className:"h-full w-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute bottom-0 left-0 h-[40%] w-full rounded-b-md",style:{background:"linear-gradient(to top,rgba(30, 30, 30, 0.8) 5%, transparent 100%)"},"aria-hidden":"true"}),e.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center opacity-0 transition-opacity duration-500 ease-in-out group-hover:opacity-100",children:e.jsxs("svg",{viewBox:"0 0 60 60",className:"h-[30px] w-[30px]",children:[e.jsx("circle",{cx:"30",cy:"30",r:"30",className:"fill-[#FFDE8A]"}),e.jsx("path",{d:"M35.746,22.494 L45.14,36.586 C46.059,37.964 45.687,39.827 44.308,40.746 C43.815,41.074 43.236,41.25 42.644,41.25 L23.855,41.25 C22.198,41.25 20.855,39.906 20.855,38.25 C20.855,37.657 21.03,37.078 21.359,36.586 L30.753,22.494 C31.672,21.116 33.535,20.743 34.914,21.662 C35.243,21.882 35.526,22.165 35.746,22.494 Z",fill:"#000000",transform:"translate(33.25, 30) rotate(-270) translate(-33.25, -30)"})]})}),e.jsxs("div",{className:"absolute bottom-2 left-2 z-20 flex items-center text-[12px] font-bold text-white",children:[e.jsx("span",{children:h}),e.jsx("span",{className:"mx-1 text-white/70",children:"|"}),e.jsx("span",{children:a})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"line-clamp-1 text-[13px] font-semibold text-white group-hover:text-[#FFDE8A]",children:r}),e.jsx("p",{className:"line-clamp-1 text-xs font-semibold text-gray-400 mt-1",children:c})]})]},m)}))}),e.jsx("button",{onClick:()=>h("left"),className:"absolute left-0 top-14 z-30 hidden -translate-x-1/2  transform items-center justify-center rounded-full bg-white p-1 text-black transition-opacity md:flex "+(r?"opacity-100":"opacity-0 pointer-events-none"),"aria-label":`Cuộn trái phần ${s}`,disabled:!r,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M15.41 7.41L14 6l-6 6l6 6l1.41-1.41L10.83 12z"})})}),e.jsx("button",{onClick:()=>h("right"),className:"absolute right-0 top-14 z-30 hidden translate-x-1/2 transform items-center justify-center rounded-full bg-white p-1 text-black transition-opacity md:flex "+(a?"opacity-100":"opacity-0 pointer-events-none"),"aria-label":`Cuộn phải phần ${s}`,disabled:!a,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M10 6L8.59 7.41L13.17 12l-4.58 4.59L10 18l6-6z"})})})]})]})}export{z as default};