import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.BVOCwoKb.js";import{A as w,m as v}from"./proxy.ordYrxt9.js";function T({title:h,movies:r}){const[l,o]=s.useState(null),[i,m]=s.useState([]),[g,p]=s.useState(!0),[c,n]=s.useState(0),d=s.useRef(0),x=s.useRef(0);s.useEffect(()=>{r&&r.length>0?(m(r),o(r[0]),n(0),p(!1)):(m([]),o(null),p(!1))},[r]),s.useEffect(()=>{i.length>0&&o(i[c])},[c,i]);const u=t=>{const a=i.findIndex(N=>N._id===t._id);a!==-1&&n(a)},f=t=>{d.current=t.touches[0].clientX},b=t=>{x.current=t.touches[0].clientX},j=()=>{const t=d.current-x.current;t>75?n(a=>a<i.length-1?a+1:a):t<-75&&n(a=>a>0?a-1:a),d.current=0,x.current=0};if(g)return e.jsx("div",{className:"p-6",children:e.jsx("section",{className:"text-white text-center py-10",children:"Đang tải phim..."})});if(!l)return e.jsx("div",{className:"p-6",children:e.jsx("section",{className:"text-white text-center py-10",children:"Không có phim hoạt hình nào để hiển thị."})});const y=`https://ik.imagekit.io/17mpki7mv/motchill/${l.thumb_url}?tr=f-webp,w-800,h-450,fo-auto,q-85`;return e.jsx("div",{className:"pb-24 pt-2",children:e.jsxs("section",{role:"region","aria-label":h,children:[e.jsx("header",{className:"px-1",children:e.jsx("div",{className:"flex flex-col lg:flex-row mb-4 gap-4 lg:gap-10",children:e.jsx("h2",{className:"text-lg font-bold text-white lg:text-2xl",children:e.jsx("span",{children:h})})})}),e.jsxs("main",{className:"relative py-16 bg-black rounded-xl h-[380px] lg:h-[400px]",onTouchStart:f,onTouchMove:b,onTouchEnd:j,children:[e.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[e.jsx(w,{initial:!1,children:e.jsx(v.img,{src:y,alt:`${l.name} - Phim hoạt hình ${l.year}`,className:"h-full w-full object-cover scale-100 rounded-xl object-pos-50-30 lg:object-pos-20-30",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},loading:"lazy"},l._id)}),e.jsx("div",{className:"hidden md:block absolute inset-0 z-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#000000 1px, transparent 1px)",backgroundSize:"3px 3px",opacity:.3},"aria-hidden":"true"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t lg:bg-gradient-to-r from-[#191B24]/95 via-[#191B24]/70 to-transparent"}),e.jsx("div",{className:"relative z-10 w-full pt-32 md:pt-10 lg:pt-10",children:e.jsx("div",{className:"px-4 lg:px-10 grid grid-cols-1 lg:grid-cols-5 items-end",children:e.jsxs("article",{className:"flex flex-col items-start col-span-2 lg:col-span-12 space-y-3 md:space-y-4 text-white",children:[e.jsx("h3",{className:"text-[16px] md:text-2xl font-bold leading-tight tracking-tight",children:e.jsx("a",{href:`/phim/${l.slug}`,className:" transition-colors line-clamp-2",title:`Xem phim ${l.name} - ${l.episode_current}`,children:l.name})}),e.jsx("div",{className:"",children:e.jsx("div",{className:" text-xs lg:text-sm text-yellow-200",dangerouslySetInnerHTML:{__html:l.origin_name}})}),e.jsxs("div",{className:"flex items-center gap-1 lg:gap-2.5 text-[10px] lg:text-xs font-medium text-white",role:"list",children:[e.jsxs("div",{className:"flex items-center border border-yellow-300 lg:px-2 px-1 py-0.5 lg:py-1 rounded-md",children:[e.jsx("p",{className:"text-[#f7d54d]",children:"IMDb"}),e.jsx("p",{className:"pl-1",children:l.tmdb.vote_average===0?10:l.tmdb.vote_average.toFixed(1)})]}),e.jsx("span",{className:"bg-gradient-to-tr from-[#FFD875] to-white lg:px-2 px-1 py-0.5 lg:py-1 rounded-md text-black font-bold",role:"listitem",children:l.quality}),e.jsx("span",{className:"bg-white lg:px-2 px-1 py-0.5 lg:py-1 rounded-md text-black font-bold",role:"listitem",children:l.lang}),e.jsx("span",{className:"border border-white lg:px-2 px-1 py-0.5 lg:py-1  rounded-md",role:"listitem",children:l.episode_current}),e.jsx("span",{className:"border border-white lg:px-2 px-1 py-0.5 lg:py-1 rounded-md",role:"listitem",children:l.year}),e.jsx("span",{className:"border border-white lg:px-2 px-1 py-0.5 lg:py-1 rounded-md",role:"listitem",children:l.time})]}),e.jsx("nav",{className:"flex flex-wrap space-x-1 xl:space-x-3 text-xs font-medium","aria-label":"Thể loại phim",children:l.category&&l.category.slice(0,3).map(t=>e.jsx("a",{href:`/the-loai/${t.slug}`,className:"rounded-[4px] bg-[#ffffff14] lg:px-2 px-1 py-0.5 lg:py-1 text-[10px]lg:text-[13px] font-medium text-gray-200 transition-colors duration-200 hover:text-yellow-400",title:`Xem phim thể loại ${t.name}`,children:t.name},t.slug))})]})})}),e.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 -translate-y-4 lg:translate-y-10 z-20",role:"tablist","aria-label":"Danh sách phim",children:[e.jsx("div",{className:"hidden lg:flex justify-center items-center space-x-2",children:i.slice(0,15).map(t=>{const a=`https://ik.imagekit.io/17mpki7mv/motchill/${t.poster_url}?tr=f-webp,w-300,h-450,fo-auto,q-85`;return e.jsx("button",{role:"tab","aria-selected":t._id===l._id,"aria-label":`Xem phim ${t.name}`,className:`w-[50px] h-[75px] 2xl:w-[55px] 2xl:h-[80px] rounded-md object-fill cursor-pointer transition duration-150 ease-in-out border-2 ${t._id===l._id?"border-white scale-105":"border-transparent hover:scale-105"}`,onClick:()=>u(t),children:e.jsx("img",{src:a,alt:`Poster phim ${t.name}`,className:"w-full h-full object-fill rounded-md",loading:"lazy"})},t._id)})}),e.jsx("div",{className:"flex lg:hidden justify-center items-center space-x-2",role:"tablist","aria-label":"Điều hướng phim",children:i.slice(0,17).map((t,a)=>e.jsx("button",{role:"tab","aria-selected":t._id===l._id,"aria-label":`Chuyển đến phim ${t.name}`,className:`w-2 h-2 rounded-full cursor-pointer ${a===c?"bg-orange-400":"bg-gray-300"}`,onClick:()=>u(t)},t._id))})]})]})]})})}export{T as default};
